<app-loading [loader]="loader"></app-loading>

<div id="modal" *ngIf="!loader">
  <button type="button" class="close btn" [mat-dialog-close]="true"><i class="material-icons">close</i></button>
  <form [formGroup]="formCreateProject">
    <div class="modal-body">

      <!-- NOME DO PROJETO -->
      <div class="input-field">
        <input id="project_name" type="text" class="validate" formControlName="name" required>
        <label for="project_name">{{ 'PROJECTNAME' | translate }}</label>
      </div>

      <!-- WORKGOUP DO PROJETO -->
      <div>
        <mat-form-field>
          <mat-label>{{ 'CREATE_PROJECT_WORKGROUP' | translate }}</mat-label>
          <mat-select formControlName="workgroup">
            <mat-option *ngFor="let workgroup of workgroups" [value]="workgroup.value">
              {{workgroup.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- GESTOR DO PROJETO -->
      <div>
        <mat-form-field>
          <mat-label>{{ 'CREATE_PROJECT_MANAGER' | translate }}</mat-label>
          <mat-select formControlName="projectManager">
            <mat-option *ngFor="let manager of managers" [value]="manager.value">
              {{manager.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <!-- DESCRICAO DO PROJETO -->
      <div class="input-field">
        <textarea id="project_description" class="validate" formControlName="description" required></textarea>
        <label for="project_description">{{ 'CREATE_PROJECT_DESCRIPTION' | translate }}</label>
      </div>

      <!-- IDENTIFICACAO DO PROJETO -->
      <div class="input-field">
        <input id="project_identify" type="text" class="validate" formControlName="identify" required>
        <label for="project_identify">{{ 'CREATE_PROJECT_IDENTIFY' | translate }}</label>
      </div>

    </div>
    <div class="modal-footer">
      <button type="submit" class="button right" [disabled]="!formCreateProject.valid" [ngStyle]="{'background-color': mainStyle}" (click)="createProject()">{{ 'CREATE_PROJECT_CONFIRM' | translate }}</button>
    </div>
  </form>
</div>
