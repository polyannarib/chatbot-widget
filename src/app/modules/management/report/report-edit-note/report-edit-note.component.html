<app-loading [loader]="loader"></app-loading>

<div id="modal" *ngIf="!loader">
  <button type="button" class="close btn" [mat-dialog-close]="true"><i class="material-icons">close</i></button>
  <!-- <div class="modal-header"></div> -->
  <form [formGroup]="form" (ngSubmit)="saveNotes()">
    <div class="modal-body">

      <mat-form-field class="example-full-width">
        <textarea matInput placeholder="{{ 'NOTEDESCRIPTION' | translate }}" type="text" formControlName="noteDescription"></textarea>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <textarea matInput placeholder="{{ 'OBSERVATION' | translate }}" type="text" formControlName="observation"></textarea>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <input matInput [matDatepicker]="noteDate" formControlName="noteDate" placeholder="{{ 'NOTEDATE' | translate }}">
        <mat-datepicker-toggle matSuffix [for]="noteDate"></mat-datepicker-toggle>
        <mat-datepicker #noteDate></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <input matInput [matDatepicker]="noteEndDate" formControlName="noteEndDate" placeholder="{{ 'NOTEENDDATE' | translate }}">
        <mat-datepicker-toggle matSuffix [for]="noteEndDate"></mat-datepicker-toggle>
        <mat-datepicker #noteEndDate></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <input matInput placeholder="{{ 'NOTENUM' | translate }}" formControlName="noteNum">
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>{{ 'CRITICALLYLEVEL' | translate }}</mat-label>
        <mat-select formControlName="criticallyLevel">
          <mat-option [value]="1"> Verde </mat-option>
          <mat-option [value]="2"> Amarelo </mat-option>
          <mat-option [value]="3"> Vermelho </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Selecione o tipo</mat-label>
        <mat-select formControlName="type.id">
          <mat-option *ngFor="let typ of typeDesc" [value]="typ.key">
            {{ typ.value }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Selecione o status</mat-label>
        <mat-select formControlName="status.id">
          <mat-option *ngFor="let stats of statusDesc" [value]="stats.key">
            {{ stats.value }}
          </mat-option>
        </mat-select>
      </mat-form-field>

    </div>
    <div class="modal-footer">
      <button [ngStyle]="{'background-color': mainStyle}" type="submit" class="button button-primary right">{{ 'UPDATE' | translate }}</button>
    </div>
  </form>
</div>
