<section>
  <div class="background"></div>
  <div class="container">
    <div class="row">
      <div class="col s12">
        <div class="title">
          <h1>Players</h1>
          <span class="line"></span>
          <a [routerLink]="['/home/admin']" class="back"><i _ngcontent-uom-c19="" class="material-icons icon-image-preview">keyboard_arrow_left</i></a>
        </div>
      </div>
    </div>
    <div class="body">

        <div class="row">

          <div class="col s12 m8 offset-m2">

            <ul class="collection with-header">
              <li class="collection-item" *ngFor="let player of players">
                <div> 
                  {{ player.name }} 
                  <a (click)="openModalCards(cardsModal, player.id)" class="secondary-content"><i class="material-icons">assistant</i></a>
                </div>
              </li>
            </ul>

          </div>
          

        </div>

    </div>
  </div>
</section>

<div class="footer"></div>


<mz-modal #cardsModal [fullscreen]="false">
  <mz-modal-header>
    <h5 class="center-align">Cartas</h5>
  </mz-modal-header>
  <mz-modal-content>
    <div class="divider"></div>
    <div class="row">

        <div class="ng-autocomplete">
          <ng-autocomplete #auto
            [data]="cards"
            name="cardPlayerSelect"
            [(ngModel)]="cardPlayerSelect"
            [initialValue]=""
            [searchKeyword]="'cardName'"
            [itemTemplate]="itemTemplate"
            [notFoundTemplate]="notFoundTemplate">                                 
          </ng-autocomplete>

          <!-- (selected)='selectEvent($event)' -->
          
          <ng-template #itemTemplate let-item>
            <a [innerHTML]="item.cardName"></a>
          </ng-template>
          
          <ng-template #notFoundTemplate let-notFound>
          <div [innerHTML]="'Carta nÃ£o encontrada'"></div>
          </ng-template>
        </div>

        <div class="center-align mt-30">
          <button class="waves-effect waves-light btn" (click)="selectEvent()">Adicionar</button>
        </div>

      <!-- </div> -->
      <div class="row mt-30">
        <div class="chip" *ngFor="let cardsPlayer of cardsPlayers">
          {{ cardsPlayer.cardName }}
          <i class="close material-icons">close</i>
        </div>
      </div>
      
    </div>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close>{{ 'CLOSE' | translate }}</button>
    <button mz-button [flat]="true" (click)="confirmFinalize()" mz-modal-close>{{ 'CONFIRM' | translate }}</button>
  </mz-modal-footer>
</mz-modal>
